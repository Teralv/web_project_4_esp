!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function e(t,n,r){var o=r.handleCardClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._cardSelector=n,this._handleCardClick=o}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".element__name").textContent=this._name,this._element.querySelector(".element__image").src=this._link,this._element.querySelector(".element__image").alt="Imagen de ".concat(this._name),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__heart").addEventListener("click",(function(){e._handleLikeBtn()})),this._element.querySelector(".element__trash").addEventListener("click",(function(){e._handleTrashBtn()})),this._element.querySelector(".element__image").addEventListener("click",(function(){e._handleOpenImagePopup()}))}},{key:"_handleLikeBtn",value:function(){this._element.querySelector(".element__heart").classList.toggle("element__heart_black")}},{key:"_handleTrashBtn",value:function(){this._element.remove()}},{key:"_handleOpenImagePopup",value:function(){this._handleCardClick(this._link,this._name)}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}var c=i((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"_showInputError",(function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.add("form__input_type_error"),r.textContent=n,r.classList.add("form__input-error_active")})),u(this,"_hideInputError",(function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("form__input_type_error"),n.classList.remove("form__input-error_active"),n.textContent=""})),u(this,"_checkInputValidity",(function(e,t){t.validity.valid?n._hideInputError(e,t):n._showInputError(e,t,t.validationMessage)})),u(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),u(this,"_toggleButtonState",(function(e,t){n._hasInvalidInput(e)?t.classList.add("popup__btn_inactive"):t.classList.remove("popup__btn_inactive")})),u(this,"_setEventListeners",(function(e){var t=Array.from(e.querySelectorAll(".form__input")),r=e.querySelector(".popup__btn");n._toggleButtonState(t,r),t.forEach((function(o){o.addEventListener("input",(function(){n._checkInputValidity(e,o),n._toggleButtonState(t,r)}))}))})),u(this,"enableValidation",(function(){Array.from(document.querySelectorAll(".form")).forEach((function(e){var t=e.querySelector(".popup__btn");e.addEventListener("submit",(function(e){t.classList.add("popup__btn_inactive"),e.preventDefault()})),Array.from(e.querySelectorAll(".form__set")).forEach((function(e){n._setEventListeners(e)}))}))})),this._validation=t}));function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var p=function(){function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dataArray=r,this.renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderedItems",value:function(){var e=this;this._dataArray.forEach((function(t){e.renderer(t)}))}},{key:"addInitalItems",value:function(e){this._container.append(e)}},{key:"addItems",value:function(e){this._container.prepend(e)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===f(o)?o:String(o)),r)}var o}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){if("Escape"===e.key)return this.close()}},{key:"_handleOutsideClick",value:function(e){(e.target.classList.contains("popup__section")||e.target.classList.contains("popup__background"))&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".popup__close-btn").addEventListener("click",(function(){e.close()})),document.addEventListener("keydown",(function(t){e._handleEscClose(t)})),this._popupElement.addEventListener("click",(function(t){e._handleOutsideClick(t)}))}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===b(o)?o:String(o)),r)}var o}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},d.apply(this,arguments)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,e))._popupImage=r._popupElement.querySelector(".image-popup__image"),r._popupTitle=r._popupElement.querySelector(".image-popup__title"),r._link=t,r._name=n,r}return t=u,(n=[{key:"open",value:function(){d(_(u.prototype),"open",this).call(this),this._popupImage.src=this._link,this._popupImage.alt="Imagen de ".concat(this._name),this._popupTitle.textContent=this._name,d(_(u.prototype),"setEventListeners",this).call(this)}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(m);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t,n=e.popupSelector,r=e.submitCallback;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._form=t._popupElement.querySelector(".form"),t._buttonSubmit=t._popupElement.querySelector(".popup__btn"),t._handleFormSubmit=r,t}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._form.querySelectorAll(".form__input"),this.formValues={},this._inputList.forEach((function(t){e.formValues[t.name]=t.value})),this.formValues}},{key:"setEventListeners",value:function(){var e=this;E(j(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()}))}},{key:"close",value:function(){E(j(u.prototype),"close",this).call(this),this._form.reset(),this._popupElement.querySelector(".popup__btn").classList.add("popup__btn_inactive")}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(m);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}var q=function(){function e(t){var n=t.nameSelector,r=t.aboutSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._username=n,this._about=r,this._nameInput=document.querySelector("#name-input"),this._aboutInput=document.querySelector("#about-input")}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameInput.value,about:this._jobInput.value}}},{key:"setUserInfo",value:function(e){var t=e.username,n=e.about;this._username.textContent=t,this._about.textContent=n}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseURL=t.baseURL,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch("".concat(this._baseURL,"/cards"),{method:"GET",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"addNewCard",value:function(e,t){return fetch("".concat(this._baseURL,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseURL,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseURL,"/users/me"),{method:"GET",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"editProfileInfo",value:function(e,t){return fetch("".concat(this._baseURL,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"addLike",value:function(e){return fetch("".concat(this._baseURL,"/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseURL,"/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"avatarImage",value:function(e){return fetch("".concat(this._baseURL,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},U.apply(this,arguments)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit,o=e.submitButton;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._handleFormSubmit=r,t._submitButton=o,t}return t=u,(n=[{key:"close",value:function(){U(A(u.prototype),"close",this).call(this),this.renderLoading(!1)}},{key:"setSubmitAction",value:function(e){this._handleFormSubmit=e}},{key:"renderLoading",value:function(e){this._submitButton.textContent=e?"Saving...":this._submitButton.dataset.textcontent}},{key:"setEventListeners",value:function(){var e=this;U(A(u.prototype),"setEventListeners",this).call(this),this._submitButton.addEventListener("click",(function(t){t.preventDefault(),e.renderLoading(!0),e._handleFormSubmit()}))}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(m),V=document.querySelector(".root").querySelector(".page"),z=V.querySelector(".profile__author"),F=V.querySelector(".profile__about-me"),N=V.querySelector("#popup__profile-form"),W=V.querySelector("#popup__profile"),J=(N.querySelector("#name-input"),N.querySelector("#about-input"),W.querySelector(".popup__profile-close-btn"),V.querySelector(".profile__edit-btn")),G=W.querySelector(".popup__btn"),H=V.querySelector("#popup__places-form"),M=V.querySelector("#popup__cards"),Y=(M.querySelector(".popup__places-close-btn"),V.querySelector(".profile__add-btn"));H.querySelector(".popup__place"),H.querySelector(".popup__url"),H.querySelector(".popup__btn"),V.querySelector("#image-popup"),document.querySelector(".profile__container").addEventListener("click",(function(){document.querySelector("#popup__avatar-image").classList.add("popup_opened")}));var K=new q({nameSelector:z,aboutSelector:F});new D({popupSelector:"#popup__delete",submitButton:document.querySelector(".popup__confirm-btn")}).setEventListeners();var Q=new T({baseURL:"https://around.nomoreparties.co/v1/web_es_cohort_08",headers:{authorization:"b7e71284-4020-44f4-a80f-43722c5b3ece","Content-Type":"application/json"}}),X=new P({popupSelector:"#popup__profile",submitCallback:function(e){Q.editProfileInfo(e.name,e.about).then((function(e){K.setUserInfo({username:e.name,about:e.about}),X.close()})).catch((function(e){return console.log(e)}))}});X.setEventListeners();var Z=new p({data:[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg"},{name:"Montañas Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg"}],renderer:function(e){var t=new n(e,"#element-template",{handleCardClick:function(e,t){new S("#image-popup",e,t).open()}}).generateCard();Z.addInitalItems(t)}},"#elements");Z.renderedItems();var $=new P({popupSelector:"#popup__cards",submitCallback:function(e){!function(e){var t=new n(e,"#element-template",{handleCardClick:function(e,t){new S("#image-popup",e,t).open()}}).generateCard();Z.addItems(t)}(e),$.close()}});$.setEventListeners(),Y.addEventListener("click",(function(){M.classList.toggle("popup_opened")})),J.addEventListener("click",(function(){W.classList.add("popup_opened"),G.classList.add("popup__btn_inactive")})),new c(document).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWlCLFNBQUNNLEVBQU1GLEdBQ0gsSUFBSXlFLEVBQWUsZUFBZ0J2RSxFQUFNRixHQUNqRDZKLE1BQ2IsSUFFdUJDLGVBQ3pCSCxFQUFnQlEsU0FBU0QsRUFDM0IsQ0FLSUUsQ0FBWXhHLEdBQ1pxRyxFQUFVNUYsT0FDWixJQUdGNEYsRUFBVWhCLG9CQW9CVkYsRUFBVzVILGlCQUFpQixTQUpBLFdBQzFCMkgsRUFBWXZILFVBQVVDLE9BQU8sZUFDL0IsSUFTQW1ILEVBQWV4SCxpQkFBaUIsU0FMUCxXQUN2QnVILEVBQWFuSCxVQUFVWSxJQUFJLGdCQUMzQnlHLEVBQWlCckgsVUFBVVksSUFBSSxzQkFDakMsSUFZbUIsSUFBSVQsRUFBY25CLFVBRzFCOEosa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvcGFnZS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCB7IGhhbmRsZUNhcmRDbGljayB9KSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19uYW1lJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJykuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpLmFsdCA9IGBJbWFnZW4gZGUgJHt0aGlzLl9uYW1lfWA7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19oZWFydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ0bigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdHJhc2gnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZVRyYXNoQnRuKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlT3BlbkltYWdlUG9wdXAoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlQnRuKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2hlYXJ0JykuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9faGVhcnRfYmxhY2snKTtcbiAgfVxuXG4gIF9oYW5kbGVUcmFzaEJ0bigpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgX2hhbmRsZU9wZW5JbWFnZVBvcHVwKCkge1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uKSB7XG4gICAgdGhpcy5fdmFsaWRhdGlvbiA9IHZhbGlkYXRpb247XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmb3JtX19pbnB1dF90eXBlX2Vycm9yJyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfTtcblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncG9wdXBfX2J0bl9pbmFjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX19idG5faW5hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19pbnB1dCcpKTtcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idG4nKTtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XG5cbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0nKSk7XG5cbiAgICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnRuJyk7XG4gICAgICBmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncG9wdXBfX2J0bl9pbmFjdGl2ZScpO1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBmaWVsZHNldExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19zZXQnKSk7XG5cbiAgICAgIGZpZWxkc2V0TGlzdC5mb3JFYWNoKChmaWVsZHNldCkgPT4ge1xuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyhmaWVsZHNldCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fZGF0YUFycmF5ID0gZGF0YTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJlZEl0ZW1zKCkge1xuICAgIHRoaXMuX2RhdGFBcnJheS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgdGhpcy5yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEluaXRhbEl0ZW1zKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICB9XG5cbiAgYWRkSXRlbXMoZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZihldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlT3V0c2lkZUNsaWNrKGV2dCkge1xuICAgIGlmKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fc2VjdGlvbicpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fYmFja2dyb3VuZCcpKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSlcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZShldnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlT3V0c2lkZUNsaWNrKGV2dCk7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGxpbmssIG5hbWUpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZS1wb3B1cF9faW1hZ2UnKTtcbiAgICB0aGlzLl9wb3B1cFRpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZS1wb3B1cF9fdGl0bGUnKTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGBJbWFnZW4gZGUgJHt0aGlzLl9uYW1lfWA7XG4gICAgdGhpcy5fcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIHN1Ym1pdENhbGxiYWNrIH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnRuJylcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gc3VibWl0Q2FsbGJhY2s7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcbiAgICB0aGlzLmZvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmZvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnRuJykuY2xhc3NMaXN0LmFkZCgncG9wdXBfX2J0bl9pbmFjdGl2ZScpO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgYWJvdXRTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fdXNlcm5hbWUgPSBuYW1lU2VsZWN0b3I7XG4gICAgdGhpcy5fYWJvdXQgPSBhYm91dFNlbGVjdG9yO1xuXG4gICAgdGhpcy5fbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUtaW5wdXQnKTtcbiAgICB0aGlzLl9hYm91dElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Fib3V0LWlucHV0Jyk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZUlucHV0LnZhbHVlLFxuICAgICAgYWJvdXQ6IHRoaXMuX2pvYklucHV0LnZhbHVlLFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgY29uc3Qge3VzZXJuYW1lLCBhYm91dH0gPSBkYXRhXG4gICAgdGhpcy5fdXNlcm5hbWUudGV4dENvbnRlbnQgPSB1c2VybmFtZTtcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGFib3V0O1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2Jhc2VVUkwgPSBvcHRpb25zLmJhc2VVUkw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYWRkTmV3Q2FyZChuYW1lLCBsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBsaW5rOiBsaW5rXG4gICAgICB9KVxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSUQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSUR9YCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZWRpdFByb2ZpbGVJbmZvKG5hbWUsIGFib3V0KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0XG4gICAgICB9KVxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYWRkTGlrZShjYXJkSUQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vbGlrZXMvJHtjYXJkSUR9YCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZihyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUxpa2UoY2FyZElEKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L2xpa2VzLyR7Y2FyZElEfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSk7XG4gIH1cblxuICBhdmF0YXJJbWFnZShsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogbGlua1xuICAgICAgfSlcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZihyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KTtcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cHtcbiAgY29uc3RydWN0b3Ioe3BvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQsIHN1Ym1pdEJ1dHRvbn0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSBzdWJtaXRCdXR0b247XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gIH1cblxuICBzZXRTdWJtaXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGFjdGlvbjtcbiAgfVxuXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ1NhdmluZy4uLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi5kYXRhc2V0LnRleHRjb250ZW50O1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KCk7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcblxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24nO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGknO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbic7XG5cbi8vR2VuZXJhbFxuY29uc3Qgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucm9vdCcpO1xuY29uc3QgcGFnZUNvbnRhaW5lciA9IHJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlJyk7XG5cbi8vUHJvZmlsZSBjb250YWluZXJcbmV4cG9ydCBjb25zdCBwcm9maWxlQXV0aG9yID0gcGFnZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXV0aG9yJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUFib3V0ID0gcGFnZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWJvdXQtbWUnKTtcblxuLy8gUG9wdXAgcHJvZmlsZVxuY29uc3QgcHJvZmlsZUNvbnRhaW5lciA9IHBhZ2VDb250YWluZXIucXVlcnlTZWxlY3RvcignI3BvcHVwX19wcm9maWxlLWZvcm0nKTtcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGUgPSBwYWdlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cF9fcHJvZmlsZScpO1xuZXhwb3J0IGNvbnN0IGlucHV0UHJvZmlsZU5hbWUgPSBwcm9maWxlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNuYW1lLWlucHV0Jyk7XG5leHBvcnQgY29uc3QgaW5wdXRQcm9maWxlQWJvdXQgPSBwcm9maWxlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNhYm91dC1pbnB1dCcpO1xuZXhwb3J0IGNvbnN0IGNsb3NlUHJvZmlsZUJ0biA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3Byb2ZpbGUtY2xvc2UtYnRuJyk7XG5leHBvcnQgY29uc3QgZWRpdFByb2ZpbGVCdG4gPSBwYWdlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ0bicpO1xuZXhwb3J0IGNvbnN0IHN1Ym1pdFByb2ZpbGVCdG4gPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19idG4nKTtcblxuLy8gUG9wdXAgcGxhY2VcbmV4cG9ydCBjb25zdCBwbGFjZXNDb250YWluZXIgPSBwYWdlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cF9fcGxhY2VzLWZvcm0nKTtcbmV4cG9ydCBjb25zdCBwb3B1cFBsYWNlcyA9IHBhZ2VDb250YWluZXIucXVlcnlTZWxlY3RvcignI3BvcHVwX19jYXJkcycpO1xuZXhwb3J0IGNvbnN0IGNsb3NlUGxhY2VzQnRuID0gcG9wdXBQbGFjZXMucXVlcnlTZWxlY3RvcignLnBvcHVwX19wbGFjZXMtY2xvc2UtYnRuJyk7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ0biA9IHBhZ2VDb250YWluZXIucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idG4nKTtcbmV4cG9ydCBjb25zdCBpbnB1dFBsYWNlTmFtZSA9IHBsYWNlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3BsYWNlJyk7XG5leHBvcnQgY29uc3QgaW5wdXRQbGFjZUxpbmsgPSBwbGFjZXNDb250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX191cmwnKTtcbmNvbnN0IHN1Ym1pdFBsYWNlc0J0biA9IHBsYWNlc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J0bicpO1xuXG4vLyBQb3B1cCBpbWFnZVxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2UgPSBwYWdlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNpbWFnZS1wb3B1cCcpO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fY29udGFpbmVyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHBydWViYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cF9fYXZhdGFyLWltYWdlJyk7XG4gIHBydWViYS5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbn0pXG5cbi8vIEluaXRpYWwgY2FyZHNcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6ICdWYWxsZSBkZSBZb3NlbWl0ZScsXG4gICAgbGluazogJ2h0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3lvc2VtaXRlLmpwZydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdMYWdvIExvdWlzZScsXG4gICAgbGluazogJ2h0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xha2UtbG91aXNlLmpwZydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdNb250YcOxYXMgQ2FsdmFzJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvYmFsZC1tb3VudGFpbnMuanBnJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0xhdGVtYXInLFxuICAgIGxpbms6ICdodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYXRlbWFyLmpwZydcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdQYXJxdWUgTmFjaW9uYWwgZGUgbGEgVmFub2lzZScsXG4gICAgbGluazogJ2h0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3Zhbm9pc2UuanBnJ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ0xhZ28gZGkgQnJhaWVzJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGFnby5qcGcnXG4gIH1cbl07XG5cbi8vIE51ZXZvIENvZGlnb1xuY29uc3QgcHJvZmlsZUluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IHByb2ZpbGVBdXRob3IsXG4gIGFib3V0U2VsZWN0b3I6IHByb2ZpbGVBYm91dFxufSk7XG5cbmNvbnN0IGRlbGV0ZUNhcmQgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKHtcbiAgcG9wdXBTZWxlY3RvcjogJyNwb3B1cF9fZGVsZXRlJyxcbiAgc3VibWl0QnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbmZpcm0tYnRuJylcbn0pO1xuXG5kZWxldGVDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVVJMOiAnaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfY29ob3J0XzA4JyxcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246ICdiN2U3MTI4NC00MDIwLTQ0ZjQtYTgwZi00MzcyMmM1YjNlY2UnLFxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgfVxufSk7XG5cbmNvbnN0IGVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiAnI3BvcHVwX19wcm9maWxlJyxcbiAgc3VibWl0Q2FsbGJhY2s6IChkYXRhKSA9PiB7XG4gICAgYXBpLmVkaXRQcm9maWxlSW5mbyhkYXRhLm5hbWUsIGRhdGEuYWJvdXQpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8oe3VzZXJuYW1lOiByZXMubmFtZSwgYWJvdXQ6IHJlcy5hYm91dH0pO1xuICAgICAgZWRpdFByb2ZpbGUuY2xvc2UoKVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gIH1cbn0pO1xuZWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG5cbi8vIFJlbmRlciBpbml0aWFsIGNhcmRzXG5jb25zdCBpbml0aWFsQ2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XG4gIGRhdGE6IGluaXRpYWxDYXJkcyxcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgY29uc3QgZGVmYXVsdENhcmQgPSBuZXcgQ2FyZChpdGVtLCAnI2VsZW1lbnQtdGVtcGxhdGUnLCB7XG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6IChsaW5rLCBuYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJyNpbWFnZS1wb3B1cCcsIGxpbmssIG5hbWUpO1xuICAgICAgICBwb3B1cEltYWdlLm9wZW4oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBkZWZhdWx0RWxlbWVudENhcmQgPSBkZWZhdWx0Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICBpbml0aWFsQ2FyZExpc3QuYWRkSW5pdGFsSXRlbXMoZGVmYXVsdEVsZW1lbnRDYXJkKTtcbiAgfVxufSwgJyNlbGVtZW50cycpO1xuXG5pbml0aWFsQ2FyZExpc3QucmVuZGVyZWRJdGVtcygpO1xuXG4vLyBDcmVhdGUgbmV3IGNhcmRzXG5mdW5jdGlvbiBjcmVhdGVDYXJkcyhpdGVtKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLCAnI2VsZW1lbnQtdGVtcGxhdGUnLCB7XG4gICAgaGFuZGxlQ2FyZENsaWNrOiAobGluaywgbmFtZSkgPT4ge1xuICAgICAgY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnI2ltYWdlLXBvcHVwJywgbGluaywgbmFtZSk7XG4gICAgICBpbWFnZVBvcHVwLm9wZW4oKTtcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICBpbml0aWFsQ2FyZExpc3QuYWRkSXRlbXMoY2FyZEVsZW1lbnQpO1xufVxuXG5jb25zdCBjYXJkc0Zvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6ICcjcG9wdXBfX2NhcmRzJyxcbiAgc3VibWl0Q2FsbGJhY2s6IChpdGVtKSA9PiB7XG4gICAgY3JlYXRlQ2FyZHMoaXRlbSk7XG4gICAgY2FyZHNGb3JtLmNsb3NlKCk7XG4gIH1cbn0pO1xuXG5jYXJkc0Zvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8gQ2hhbmdlIHVzZXIgaW5mb3JtYXRpb25cbi8qY29uc3QgdXNlckluZm9Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogJyNwb3B1cF9fcHJvZmlsZScsXG4gIHN1Ym1pdENhbGxiYWNrOiAoKSA9PiB7XG4gICAgY29uc3Qgc2V0SW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gICAgICBuYW1lU2VsZWN0b3I6IHByb2ZpbGVBdXRob3IsXG4gICAgICBhYm91dFNlbGVjdG9yOiBwcm9maWxlQWJvdXRcbiAgICB9KVxuICAgIHNldEluZm8uc2V0VXNlckluZm8oKTtcbiAgfVxufSk7XG5cbnVzZXJJbmZvUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTsqL1xuXG5jb25zdCB0b2dnbGVBZGRDYXJkc1BvcHVwID0gKCkgPT4ge1xuICBwb3B1cFBsYWNlcy5jbGFzc0xpc3QudG9nZ2xlKCdwb3B1cF9vcGVuZWQnKTtcbn1cblxuYWRkQ2FyZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZUFkZENhcmRzUG9wdXApO1xuXG5jb25zdCBvcGVuUHJvZmlsZVBvcHVwID0gKCkgPT4ge1xuICBwb3B1cFByb2ZpbGUuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gIHN1Ym1pdFByb2ZpbGVCdG4uY2xhc3NMaXN0LmFkZCgncG9wdXBfX2J0bl9pbmFjdGl2ZScpO1xufVxuXG5lZGl0UHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qcm9maWxlUG9wdXApO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTmV3Q2FyZChjYXJkKSB7XG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChjYXJkLCAnI2VsZW1lbnQtdGVtcGxhdGUnKTtcbiAgY29uc3QgbmV3Q2FyZEVsZW1lbnQgPSBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbGVtZW50cycpLnByZXBlbmQobmV3Q2FyZEVsZW1lbnQpO1xufVxuXG4vLyBJbnB1dCB2YWxpZGF0aW9uc1xuY29uc3QgdmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGRvY3VtZW50KTtcblxuXG52YWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTsiXSwibmFtZXMiOlsiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJfcmVmIiwiaGFuZGxlQ2FyZENsaWNrIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwia2V5IiwidmFsdWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsImNvbmNhdCIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlQnRuIiwiX2hhbmRsZVRyYXNoQnRuIiwiX2hhbmRsZU9wZW5JbWFnZVBvcHVwIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiRm9ybVZhbGlkYXRvciIsIl9jcmVhdGVDbGFzcyIsInZhbGlkYXRpb24iLCJfZGVmaW5lUHJvcGVydHkiLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiYWRkIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRMaXN0Iiwic29tZSIsImJ1dHRvbkVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJmaWVsZHNldCIsIl92YWxpZGF0aW9uIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfZGF0YUFycmF5IiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIl9oYW5kbGVPdXRzaWRlQ2xpY2siLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cFRpdGxlIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRDYWxsYmFjayIsIl9mb3JtIiwiX2J1dHRvblN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3RoaXMyIiwiX2lucHV0TGlzdCIsImZvcm1WYWx1ZXMiLCJpbnB1dCIsIl90aGlzMyIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiX3VzZXJuYW1lIiwiX2Fib3V0IiwiX25hbWVJbnB1dCIsIl9hYm91dElucHV0IiwiYWJvdXQiLCJfam9iSW5wdXQiLCJ1c2VybmFtZSIsIkFwaSIsIm9wdGlvbnMiLCJfYmFzZVVSTCIsImJhc2VVUkwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSUQiLCJhdmF0YXIiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvbiIsInJlbmRlckxvYWRpbmciLCJhY3Rpb24iLCJpc0xvYWRpbmciLCJkYXRhc2V0IiwidGV4dGNvbnRlbnQiLCJwYWdlQ29udGFpbmVyIiwicHJvZmlsZUF1dGhvciIsInByb2ZpbGVBYm91dCIsInByb2ZpbGVDb250YWluZXIiLCJwb3B1cFByb2ZpbGUiLCJlZGl0UHJvZmlsZUJ0biIsInN1Ym1pdFByb2ZpbGVCdG4iLCJwbGFjZXNDb250YWluZXIiLCJwb3B1cFBsYWNlcyIsImFkZENhcmRCdG4iLCJwcm9maWxlSW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImVkaXRQcm9maWxlIiwiZWRpdFByb2ZpbGVJbmZvIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJpbml0aWFsQ2FyZExpc3QiLCJkZWZhdWx0RWxlbWVudENhcmQiLCJvcGVuIiwiZ2VuZXJhdGVDYXJkIiwiYWRkSW5pdGFsSXRlbXMiLCJyZW5kZXJlZEl0ZW1zIiwiY2FyZHNGb3JtIiwiY2FyZEVsZW1lbnQiLCJhZGRJdGVtcyIsImNyZWF0ZUNhcmRzIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=